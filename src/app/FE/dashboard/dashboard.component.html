<div class="dashboard-layout">
  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-left">
      <img src="/assets/images/LOGO_DHXD.png" alt="HUCE Logo" class="header-logo">
      <div class="header-title">
        <h1>TRÆ¯á»œNG Äáº I Há»ŒC XÃ‚Y Dá»°NG</h1>
        <p>National University of Civil Engineering</p>
      </div>
    </div>
    <div class="header-right">
      <div class="user-info">
        <div class="user-avatar" (click)="toggleUserDropdown()">
          <i class="user-icon">ğŸ‘¤</i>
        </div>
        
        <!-- User Dropdown Menu -->
        <div class="user-dropdown" *ngIf="showUserDropdown" (click)="$event.stopPropagation()">
          <div class="user-profile">
            <div class="profile-avatar">
              <i class="profile-icon">ğŸ‘¤</i>
            </div>
            <div class="profile-info">
              <h4 class="profile-name">{{ getUserDisplayName() }}</h4>
              <p class="profile-email">{{ currentUser?.email || currentUser?.username }}</p>
              <p class="profile-role">{{ currentUser?.role || 'NgÆ°á»i dÃ¹ng' }}</p>
            </div>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-actions">
            <button class="dropdown-item" (click)="navigateTo('CÃ i Ä‘áº·t'); closeUserDropdown()">
              <i class="item-icon">âš™ï¸</i>
              CÃ i Ä‘áº·t tÃ i khoáº£n
            </button>
            <button class="dropdown-item logout-item" (click)="logout()">
              <i class="item-icon">ğŸšª</i>
              ÄÄƒng xuáº¥t
            </button>
          </div>
        </div>
        
        <button class="logout-btn-simple" (click)="logout()" title="ÄÄƒng xuáº¥t">
          ğŸšª
        </button>
      </div>
    </div>
  </header>

  <div class="dashboard-body">
    <!-- Sidebar -->
    <nav class="sidebar" [class.collapsed]="sidebarCollapsed">
      <button class="menu-toggle" (click)="toggleSidebar()">â˜° Menu</button>
      <ul class="nav-menu">
        <li class="nav-item" [class.active]="currentPage === 'Tá»•ng quan'">
          <a href="#" class="nav-link" (click)="navigateTo('Tá»•ng quan'); $event.preventDefault()">
            <i class="nav-icon">ğŸ </i>
            <span class="nav-text">Tá»•ng quan</span>
          </a>
        </li>
        <li class="nav-item" [class.active]="currentPage === 'KPI ÄÆ¡n vá»‹'">
          <a href="#" class="nav-link" (click)="navigateTo('KPI ÄÆ¡n vá»‹'); $event.preventDefault()">
            <i class="nav-icon">ğŸ“Š</i>
            <span class="nav-text">KPI ÄÆ¡n vá»‹</span>
          </a>
        </li>
        <li class="nav-item" [class.active]="currentPage === 'Táº¡o KPIs'">
          <a href="#" class="nav-link" (click)="navigateTo('Táº¡o KPIs'); $event.preventDefault()">
            <i class="nav-icon">ğŸ“ˆ</i>
            <span class="nav-text">Táº¡o KPIs</span>
          </a>
        </li>
        <li class="nav-item" [class.active]="currentPage === 'CÃ i Ä‘áº·t'">
          <a href="#" class="nav-link" (click)="navigateTo('CÃ i Ä‘áº·t'); $event.preventDefault()">
            <i class="nav-icon">âš™ï¸</i>
            <span class="nav-text">CÃ i Ä‘áº·t</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="page-header">
        <div class="breadcrumb">
          <span class="breadcrumb-item">ğŸ  Trang chá»§</span>
          <span class="breadcrumb-separator">â–¶</span>
          <span class="breadcrumb-item current">{{ currentPage }}</span>
        </div>
      </div>

      <div class="content-area">
        <!-- Tá»•ng quan Page -->
        <div class="welcome-section" *ngIf="currentPage === 'Tá»•ng quan'">
          <div class="welcome-avatar">
            <div class="avatar-circle">
              <i class="avatar-icon">ğŸ‘¤</i>
            </div>
          </div>
          
          <h2 class="welcome-title">Xin chÃ o, {{ getUserDisplayName() }}</h2>
          
          <p class="welcome-message">ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i há»‡ thá»‘ng KPI cá»§a TrÆ°á»ng Äáº¡i há»c XÃ¢y dá»±ng</p>
        </div>

        <!-- KPI ÄÆ¡n vá»‹ Page -->
        <div class="page-content" *ngIf="currentPage === 'KPI ÄÆ¡n vá»‹'">
          <app-unit-kpi-view></app-unit-kpi-view>
        </div>

        <!-- Táº¡o KPIs Page -->
        <div class="page-content" *ngIf="currentPage === 'Táº¡o KPIs'">
          <div class="info-card">
            <h3 class="card-title">ğŸ“ˆ Táº¡o KPIs</h3>
            <div class="info-content">
              <div class="info-text">
                <p><strong>ThÃ´ng tin KPIs:</strong></p>
                <p>â€¢ TÃªn KPI: </p>
                <p>â€¢ MÃ´ táº£: </p>
                <p>â€¢ ÄÆ¡n vá»‹ tÃ­nh: </p>
                <p>â€¢ Má»¥c tiÃªu: </p>
              </div>
            </div>
          </div>
        </div>

        <!-- CÃ i Ä‘áº·t Page -->
        <div class="page-content" *ngIf="currentPage === 'CÃ i Ä‘áº·t'">
          <div class="info-card">
            <h3 class="card-title">âš™ï¸ CÃ i Ä‘áº·t Há»‡ thá»‘ng</h3>
            <div class="info-content">
              <div class="info-text">
                <p><strong>TÃ¹y chá»n cÃ i Ä‘áº·t:</strong></p>
                <p>â€¢ Quáº£n lÃ½ tÃ i khoáº£n ngÆ°á»i dÃ¹ng</p>
                <p>â€¢ Cáº¥u hÃ¬nh thÃ´ng sá»‘ KPI</p>
                <p>â€¢ Thiáº¿t láº­p quyá»n truy cáº­p</p>
                <p>â€¢ CÃ i Ä‘áº·t thÃ´ng bÃ¡o</p>
                <p>â€¢ Backup vÃ  khÃ´i phá»¥c dá»¯ liá»‡u</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>